import{_ as y,c as a,a as n,m as f,x as o,t as h,d as m,o as l}from"./bootstrap-ba486c88.mjs";const u={data(){return{imgOffset:{top:180,x:1040.234375,y:180,height:505,width:506,bottom:685,left:1040.234375,right:1546.234375},slideOffset:this.offset,sliding:!1,containerStyle:{},overlayStyle:{}}},props:{before:{type:String,required:!0},beforeLabel:{type:String},after:{type:String,required:!0},afterLabel:{type:String},offset:{type:[String,Number],default:.5,validator:e=>e>0&&e<=1},keyboardStep:{type:[String,Number],default:.2,validator:e=>e>0&&e<=1}},methods:{setDimensions(){const e=this.$refs.image;this.imgOffset=e.getBoundingClientRect(),this.containerStyle={width:`${this.w}px`,height:`${this.h}px`}},startSlide(e){this.sliding=!0,this.moveSlide(e),this.overlayStyle={opacity:0}},handleArrowNavigation(e){return this.moveSlide(e)},moveSlide(e){if(this.sliding){var t=(e.touches?e.touches[0].pageX:e.pageX)-this.imgOffset.left;return t=t<0?0:t>this.w?this.w:t,this.slideOffset=t/this.w}if(e.key)switch(e.key){case"Left":case"ArrowLeft":this.slideOffset=this.floatOffset-this.floatKeyboardStep>=0?this.floatOffset-this.floatKeyboardStep:0;break;case"Right":case"ArrowRight":this.slideOffset=this.floatOffset+this.floatKeyboardStep<=1?this.floatOffset+this.floatKeyboardStep:1;break;default:return}},endSlide(){this.sliding=!1,this.overlayStyle={}},resize(){this.containerStyle={},this.$nextTick(()=>this.setDimensions())}},computed:{beforeImgStyle(){return{clip:`rect(0, ${this.x}px, ${this.h}px, 0)`}},handleStyle(){const e=40;return{width:`${e}px`,height:`${e}px`,top:`calc(50% - ${e/2}px)`,left:`calc(${this.slideOffset*100}% - ${e/2}px)`}},x(){return this.w*this.slideOffset},w(){return this.imgOffset&&this.imgOffset.width>0?this.imgOffset.width:506},h(){return this.imgOffset&&this.imgOffset.width>0?this.imgOffset.height:506},floatOffset(){return parseFloat(this.slideOffset)},floatKeyboardStep(){return parseFloat(this.keyboardStep)}},mounted(){document.addEventListener("touchmove",this.moveSlide),document.addEventListener("touchend",this.endSlide),document.addEventListener("mousemove",this.moveSlide),document.addEventListener("mouseup",this.endSlide),window.addEventListener("resize",this.resize),this.setDimensions()},beforeDestroy(){document.removeEventListener("touchmove",this.moveSlide),document.removeEventListener("touchend",this.endSlide),document.removeEventListener("mousemove",this.moveSlide),document.removeEventListener("mouseup",this.endSlide),window.removeEventListener("resize",this.resize)}},c=["src"],v=["src"],g={key:0,class:"twentytwenty-before-label"},S={key:1,class:"twentytwenty-after-label"},w=n("div",{class:"twentytwenty-arrow-left"},null,-1),b=n("div",{class:"twentytwenty-arrow-right"},null,-1),p=[w,b];function _(e,t,r,O,d,s){return l(),a("div",{class:"twentytwenty-container",style:o(d.containerStyle),onTouchstart:t[4]||(t[4]=(...i)=>s.startSlide&&s.startSlide(...i)),onMousedown:t[5]||(t[5]=(...i)=>s.startSlide&&s.startSlide(...i))},[n("img",{ref:"image",src:r.after,alt:"after",onMousedown:t[0]||(t[0]=f(()=>{},["prevent"])),onLoad:t[1]||(t[1]=(...i)=>s.setDimensions&&s.setDimensions(...i))},null,40,c),n("img",{src:r.before,alt:"before",onMousedown:t[2]||(t[2]=f(()=>{},["prevent"])),style:o(s.beforeImgStyle)},null,44,v),n("div",{class:"twentytwenty-overlay",style:o(d.overlayStyle)},[r.beforeLabel?(l(),a("div",g,h(r.beforeLabel),1)):m("",!0),r.afterLabel?(l(),a("div",S,h(r.afterLabel),1)):m("",!0)],4),n("div",{class:"twentytwenty-handle",style:o(s.handleStyle),tabindex:"0",onKeydown:t[3]||(t[3]=(...i)=>s.handleArrowNavigation&&s.handleArrowNavigation(...i))},p,36)],36)}var x=y(u,[["render",_]]);export{x as default};
